:root{
  --panel-z: 20;
}
html,body { height:100%; margin:0; background:#000; font-family: "Noto Sans JP", "Hiragino Kaku Gothic ProN", system-ui, -apple-system, sans-serif;}
#three-wrap { position:fixed; inset:0; z-index:0; background:#000; display:flex; align-items:center; justify-content:center;}
canvas { display:block; width:100%; height:100%; }

#ui {
  position:fixed; inset:0; z-index:var(--panel-z); pointer-events:none;
  display:flex; align-items:center; justify-content:center;
  padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* Mobile-first layout optimizations */
#bg {
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:1; pointer-events:none;
}

/* Container for centered content */
#content { position:relative; z-index:2; width:100%; max-width:1000px; margin:0 auto; display:flex; align-items:center; justify-content:center; pointer-events:none; flex-direction:column; }

/* bubble position adjusted for mobile */
#bubble {
  position:absolute; top:8vh; left:6vw; width:30vw; max-width:220px; height:auto; transform-origin:center center; z-index:3; pointer-events:none;
  will-change: transform;
}

/* title image near top center, responsive */
#title-img {
  position:absolute; top:6vh; left:50%; transform:translateX(-50%); width:72vw; max-width:760px; z-index:3; pointer-events:none;
}

/* Start button area bottom center */
#btn-area {
  position:absolute; bottom:6vh; left:50%; transform:translateX(-50%); z-index:3; pointer-events:auto;
  display:flex; gap:12px; align-items:center; justify-content:center;
}
.btn {
  background: linear-gradient(180deg,#fff 0%, #e6e6e6 100%);
  border-radius:14px; padding:12px 22px; font-weight:700; color:#111; border:0; cursor:pointer; box-shadow: 0 6px 18px rgba(0,0,0,0.35);
  pointer-events:auto; font-size:16px;
}
.hint { color: #fff; opacity:0.9; font-size:13px; text-align:center; margin-top:8px; }

/* bubble animation: total 8s loop (3s active pulses + 5s pause) */
@keyframes bubblePulse {
  0%   { transform: scale(1); }
  4.166%  { transform: scale(0.8); }
  8.333%  { transform: scale(1.2); }
  12.5%   { transform: scale(1); }

  16.666% { transform: scale(0.8); }
  20.833% { transform: scale(1.2); }
  25%     { transform: scale(1); }

  29.166% { transform: scale(0.8); }
  33.333% { transform: scale(1.2); }
  37.5%   { transform: scale(1); }

  100% { transform: scale(1); }
}
.bubble-anim { animation: bubblePulse 8s ease-in-out infinite; }

#debug {
  position:fixed; top:3vh; right:3vw; z-index:50; color:#fff; background:rgba(0,0,0,0.45); padding:8px 10px; border-radius:8px;
  font-size:12px; max-width:320px; pointer-events:auto;
}

/* Position for model (visual guide only) */
#model-slot {
  position:absolute; width:44vw; height:56vh; bottom:20vh; left:50%; transform:translateX(-50%);
  z-index:2; pointer-events:none; display:flex; align-items:center; justify-content:center;
}

/* ensure title and elements scale well on narrow screens */
@media (min-width: 700px) {
  #bubble { width:220px; left:6%; top:12%; }
  #title-img { width:60vw; max-width:900px; top:6vh; }
  #model-slot { width:300px; height:420px; bottom:16%; }
}
